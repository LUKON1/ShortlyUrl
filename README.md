# ShortlyURL - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫

## –û –ø—Ä–æ–µ–∫—Ç–µ

**ShortlyURL** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (Fire-and-Forget, Aggregation Cron Jobs, Lazy Registration) –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞.

## –ö–ª—é—á–µ–≤—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üöÄ –û—Å–Ω–æ–≤–Ω–æ–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏.
- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∞–ª–∏–∞—Å—ã:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–º—è –¥–ª—è –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏ (4‚Äì30 —Å–∏–º–≤–æ–ª–æ–≤, –ª–∞—Ç–∏–Ω–∏—Ü–∞, —Ü–∏—Ñ—Ä—ã, `-`, `_`). –í–∞–ª–∏–¥–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.
- **Lazy Registration (–û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è):** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ, –∞ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–Ω–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è** –≤ –µ–≥–æ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç.
- **–ö–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏:** –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π UI (–æ—Ç 1 –º–∏–Ω—É—Ç—ã –¥–æ 1 –≥–æ–¥–∞).
- **QR-–∫–æ–¥—ã:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –ø–µ—á–∞—Ç–∏ –∏ —à–µ—Ä–∏–Ω–≥–∞.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º:** –°—Å—ã–ª–∫–∏ –º–æ–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É (Paused Page) –∏–ª–∏ –æ–Ω–∏ –º–æ–≥—É—Ç –∏—Å—Ç–µ–∫–∞—Ç—å (Expired Page).

### üìä –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

- **–ü–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä –º–µ—Ç—Ä–∏–∫:**
  - **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è:** –°—Ç—Ä–∞–Ω–∞ (GeoIP Lite).
  - **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:** –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Mobile/Desktop/Tablet).
  - **–ë—Ä–∞—É–∑–µ—Ä—ã:** Chrome, Firefox, Safari –∏ –¥—Ä.
  - **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –°–∏—Å—Ç–µ–º—ã:** Windows, macOS, Linux, Android, iOS.
- **–î–∞—à–±–æ—Ä–¥:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (Recharts) –∏ —Å–ø–∏—Å–∫–∏ —Ç–æ–ø-—Å—Å—ã–ª–æ–∫.
- **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ UX

- **Rate Limiting:** –ó–∞—â–∏—Ç–∞ –æ—Ç Brute-Force –∞—Ç–∞–∫ –Ω–∞ –≤—Ö–æ–¥ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫.
- **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è:** –í–∏–∑—É–∞–ª—å–Ω–∞—è —à–∫–∞–ª–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (Password Strength Meter).
- **–û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (Offline Modal).
- **Dark Mode:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã (Tailwind CSS 4).
- **–ê–Ω–∏–º–∞—Ü–∏–∏:** –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å—Ç—Ä–∞–Ω–∏—Ü –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (Framer Motion).

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å —É—á–µ—Ç–æ–º –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ (High Load Design Principles):

1.  **Fire-and-Forget Redirect:**
    - –°–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞–µ—Ç 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ**, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –ë–î.
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ.

2.  **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –î–∞–Ω–Ω—ã—Ö (Cron Jobs):**
    - –ï–∂–µ–Ω–æ—â–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Cron-–∑–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤.

3.  **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –û—á–∏—Å—Ç–∫–∞:**
    - –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —É–¥–∞–ª—è—é—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ª–æ–≥–∏.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

### Frontend

- **Core:** React 19, Vite 7
- **Styling:** Tailwind CSS 4 (Modern Stack)
- **State/API:** Context API, Custom Hooks, Axios Interceptors
- **UI Libraries:** Framer Motion (–∞–Ω–∏–º–∞—Ü–∏–∏), Recharts (–≥—Ä–∞—Ñ–∏–∫–∏), Headless UI
- **I18n:** –ü–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (i18next)

### Backend

- **Runtime:** Node.js + Express 5
- **Database:** MongoDB + Mongoose 8
- **Security:** bcrypt, helmet-like headers, express-rate-limit
- **Background:** node-cron (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)
- **Utilities:** geoip-lite, ua-parser-js

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js (v18+)
- MongoDB (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ Atlas)

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**

    ```bash
    git clone https://github.com/LUKON1/ShrotlyUrl.git
    cd ShrotlyUrl
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**

    ```bash
    # –ö–ª–∏–µ–Ω—Ç
    npm install

    # –°–µ—Ä–≤–µ—Ä
    cd server
    npm install
    ```

3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ (.env):**
    _–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤ –ø–∞–ø–∫–µ server –ø–æ –ø—Ä–∏–º–µ—Ä–∞–º._

    **Client (.env):**

    ```env
    VITE_API_BASE_URL=http://localhost:3000/api
    VITE_BASE_URL=http://localhost:5173
    ```

    **Server (server/.env):**

    ```env
    PORT=3000
    DB_URI=mongodb://localhost:27017/shortly
    HOST_NAME=http://localhost:5173
    JWT_SECRET=super_secret_key
    JWT_REFRESH_SECRET=super_refresh_secret
    NODE_ENV=development
    ```

4.  **–ó–∞–ø—É—Å–∫:**

    ```bash
    # –¢–µ—Ä–º–∏–Ω–∞–ª 1 (–°–µ—Ä–≤–µ—Ä)
    cd server
    npm run dev

    # –¢–µ—Ä–º–∏–Ω–∞–ª 2 (–ö–ª–∏–µ–Ω—Ç)
    cd ..
    npm run dev
    ```

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Docker Compose (Backend + Nginx).

> **–í–∞–∂–Ω–æ:**
>
> 1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª `.env`** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
> 2. **MongoDB** –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (–≤ `docker-compose.yml` –±–∞–∑—ã –Ω–µ—Ç).
> 3. **Nginx** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ SSL (`shortlyurl.ru`). –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ `nginx.conf`.

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**

    ```env
    # Backend Configuration
    PORT=3000
    # –î–ª—è Linux –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ 172.17.0.1 –∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–π IP, –¥–ª—è Mac/Win - host.docker.internal
    DB_URI=mongodb://host.docker.internal:27017/shortly
    HOST_NAME=https://shortlyurl.ru
    JWT_SECRET=your_secret
    JWT_REFRESH_SECRET=your_refresh
    NODE_ENV=production

    # Frontend Configuration
    VITE_API_BASE_URL=/api
    VITE_BASE_URL=https://shortlyurl.ru
    ```

2.  **–°–æ–±–µ—Ä–∏—Ç–µ Frontend:**
    Docker-–æ–±—Ä–∞–∑ Nginx –∫–æ–ø–∏—Ä—É–µ—Ç –≥–æ—Ç–æ–≤—É—é —Å—Ç–∞—Ç–∏–∫—É –∏–∑ –ø–∞–ø–∫–∏ `dist`.

    ```bash
    npm run build
    ```

3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ:**

    ```bash
    docker-compose up -d --build
    ```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
ShrotlyUrl
‚îú‚îÄ src/                  # Frontend (React)
‚îÇ  ‚îú‚îÄ elements/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
‚îÇ  ‚îÇ  ‚îú‚îÄ Dashboard/      # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞, –ü—Ä–æ—Ñ–∏–ª—å, –í–∏–¥–∂–µ—Ç—ã (OS, Devices)
‚îÇ  ‚îÇ  ‚îú‚îÄ Homepage/       # –§–æ—Ä–º–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è, QR, TimeSelector
‚îÇ  ‚îÇ  ‚îú‚îÄ Pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã (Home, About, Contact, Paused, etc.)
‚îÇ  ‚îÇ  ‚îú‚îÄ Registration/   # –§–æ—Ä–º—ã –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ  ‚îÇ  ‚îî‚îÄ shared/         # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Modal, Loader, PasswordStrength)
‚îÇ  ‚îú‚îÄ api/               # Axios services
‚îÇ  ‚îî‚îÄ translation/       # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (i18n)
‚îú‚îÄ server/               # Backend (Express)
‚îÇ  ‚îú‚îÄ cron/              # –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (cleanup, aggregate)
‚îÇ  ‚îú‚îÄ middleware/        # Auth verify, Rate Limiters
‚îÇ  ‚îú‚îÄ models/            # Mongoose Schemas (User, Url, Click)
‚îÇ  ‚îî‚îÄ routes/            # API Endpoints
‚îî‚îÄ ...
```
